<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#ffffff" media="(prefers-color-scheme: light)">
    <meta name="theme-color" content="#1a1a1a" media="(prefers-color-scheme: dark)">
    <title>Daily Schedule</title>
    <link rel="stylesheet" href="/static/app.css">
    <link rel="manifest" href="/static/manifest.json">
</head>

<body>
    <header class="toolbar top">
        <button id="menuBtn" aria-label="Menu">☰</button>
        <time id="currentDate" datetime=""></time>
        <button id="addTask" aria-label="Add Task">+</button>
        <div class="progress day-progress" role="progressbar" aria-label="Day progress"></div>
    </header>

    <nav id="menu" class="sidebar" aria-label="Main menu">
        <a href="#" id="todayLink">Today</a>
        <button id="refreshPwa">Refresh App</button>
    </nav>

    <main id="taskList" class="task-list">
        <!-- Tasks will be inserted here -->
    </main>

    <div id="addTaskModal" class="modal">
        <h2>Add New Task</h2>
        <form id="addTaskForm" class="task-form">
            <div class="form-group">
                <label for="taskTime">Start Time</label>
                <input type="time" id="taskTime" required>
            </div>

            <div class="form-group">
                <label for="taskName">Task Name</label>
                <input type="text" id="taskName" placeholder="What needs to be done?" required>
            </div>

            <div class="form-group">
                <label for="taskDuration">Duration</label>
                <div class="duration-inputs">
                    <input type="text" id="taskDuration" placeholder="e.g., 30min">
                    <input type="range" id="durationSlider" min="5" max="180" value="30" list="durationSteps">
                    <datalist id="durationSteps">
                        <option value="5">5m</option>
                        <option value="10">10m</option>
                        <option value="15">15m</option>
                        <option value="20">20m</option>
                        <option value="30">30m</option>
                        <option value="45">45m</option>
                        <option value="60">1h</option>
                        <option value="90">1.5h</option>
                        <option value="120">2h</option>
                        <option value="150">2.5h</option>
                        <option value="180">3h</option>
                    </datalist>
                    <span id="durationDisplay">30 min</span>
                </div>
            </div>

            <div class="form-actions">
                <button type="button" class="btn-secondary" onclick="closeAddTaskModal()">Cancel</button>
                <button type="submit" class="btn-primary">Add Task</button>
            </div>
        </form>
    </div>
    <div id="modalBackdrop" class="modal-backdrop"></div>

    <footer class="toolbar bottom">
        <div class="progress task-progress" role="progressbar" aria-label="Task completion progress"></div>
        <div id="currentTask" class="current-task"></div>
        <div class="media-controls">
            <button id="playPause" aria-label="Play/Pause">▶</button>
            <button id="nextTask" aria-label="Next Task">⏭</button>
        </div>
    </footer>

    <script src="/static/app.js"></script>
</body>

</html>